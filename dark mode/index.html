<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Document</title>
</head>
<body>
    <div>
        <input type="checkbox" class="checkbox" id="chk" />
        <label class="label" for="chk">
            <i class="fa fa-moon-o"></i>
            <i class="fa fa-sun-o"></i>
            <div class="ball"></div>
        </label>
    </div>
</body>
<script type="text/javascript">
  let darkStorage = localStorage.getItem('darkmode');
  console.log(darkStorage)
  let dark = document.getElementById('chk');

function darkMode()
{
    document.body.classList.add('dark');
    localStorage.setItem('darkmode','on');
    document.getElementsByClassName("ball")[0].style.transform = "translateX(24px)";
}

function LightMode()
{
    document.body.classList.remove('dark');
    localStorage.setItem('darkmode','off');
    document.getElementsByClassName("ball")[0].style.transform = "translateX(0px)";

}
 
 if ( darkStorage == 'on')
 {
    darkMode();
   
 }
 else{
    LightMode();

 }


  dark.addEventListener('click', ()=>{
    darkStorage = localStorage.getItem('darkmode');
     if (darkStorage !== 'on')
     {
        darkMode();
      
     }
     else{
        LightMode();
     }
  })
  console.log(dark);
</script>
</html>